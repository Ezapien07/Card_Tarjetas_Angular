<div class="container mt-5">
  <div class="row">
    <div class="col-lg-8 offset-lg-2">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title titulo">TARJETA DE CREDITO</h5>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-lg-6">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title titulo">{{ accion | uppercase  }} TARJETA</h5>
         <form [formGroup]="form" (ngSubmit)="guardarTarjeta()">
          <div class="input-group mb-3 input-group-lg">
            <span class="input-group-text"><i class="fa-regular fa-user"
               [class.green-icon]="this.form.get('titular')?.valid" [class.red-icon]="this.form.get('titular')?.invalid && this.form.get('titular')?.touched"></i></span>
            <input formControlName="titular" type="text" class="form-control" placeholder="Titular">
          </div>
          <div class="input-group mb-3 input-group-lg">
            <span class="input-group-text"><i class="fa-regular fa-credit-card"
              [class.green-icon]="this.form.get('numTarjeta')?.valid" [class.red-icon]="this.form.get('numTarjeta')?.invalid && this.form.get('numTarjeta')?.touched" ></i></span>
            <input formControlName="numTarjeta" type="text" class="form-control" placeholder="NÃºmero de tarjeta" maxlength="16" minlength="16">
          </div>
          <div class="row">
            <div class="col-lg-7">
              <div class="input-group mb-3 input-group-lg">
                <span class="input-group-text"><i class="fa-regular fa-calendar"
                  [class.green-icon]="this.form.get('fechaExp')?.valid" [class.red-icon]="this.form.get('fechaExp')?.invalid && this.form.get('fechaExp')?.touched"></i></span>
                <input formControlName="fechaExp" type="text" class="form-control" placeholder="MM/YY" maxlength="5">
              </div>
            </div>
            <div class="col-lg-5">
              <div class="input-group mb-3 input-group-lg">
                <span class="input-group-text"><i class="fa-solid fa-key"
                  [class.green-icon]="this.form.get('cvv')?.valid" [class.red-icon]="this.form.get('cvv')?.invalid && this.form.get('cvv')?.touched"></i></span>
                <input formControlName="cvv" type="password" class="form-control" placeholder="CVV" maxlength="3">
              </div>
            </div>
          </div>
          <div class="d-grid gap-2">
             <button [disabled]="this.form.invalid" class="btn btn-success btn lg" type="submit"><i class="fa-solid fa-database"></i>  Aceptar</button>
          </div>


         </form>
        </div>
      </div>
    </div>
    <div class="col-lg-6">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title titulo">LISTAR TARJETAS</h5>
          <table class="table table-striped">
            <tbody>
              <tr *ngFor="let tarjeta of lstTarjetas; let i = index">
                <td>{{ tarjeta.titular }}</td>
                <td>{{ tarjeta.numTarjeta }}</td>
                <td>{{ tarjeta.fechaExp }}</td>
                <td><i  (click)="editarTarjeta(tarjeta)" class="fa-regular fa-pen-to-square text-info"></i></td>
                <td><i (click)="eliminarTarjeta(tarjeta.id)" class="fa-regular fa-trash-can text-danger"></i></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
